 <!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ÿßŸÑŸÇÿ±ÿ¢ŸÜ ÿßŸÑŸÉÿ±ŸäŸÖ</title>
<link href="https://fonts.googleapis.com/css2?family=Amiri&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#1e1e1e; --panel:#2b2b2b; --border:#444; --text:#f0f0f0; --accent:#ffcc00;
}
.light{
  --bg:#f5f0e8; --panel:#e0d7cc; --border:#b6a99a; --text:#000; --accent:#6d4c41;
}
*{box-sizing:border-box;margin:0;padding:0;}
body{font-family:'Amiri',serif;background:var(--bg);color:var(--text);}

.app{display:flex;height:100vh;overflow:hidden;flex-direction:row-reverse;}
.sidebar{
  width:80%; max-width:260px; background:var(--panel); border-left:1px solid var(--border);
  padding:12px; position:fixed; right:0; top:0; height:100vh; transform:translateX(100%);
  transition:.3s; z-index:1000; overflow:auto; border-radius:10px 0 0 10px;
}
.sidebar.open{transform:translateX(0);}
.surah-item{padding:10px;border-bottom:1px solid var(--border);cursor:pointer;transition:.2s;}
.surah-item:hover{background:var(--accent);color:#000;font-weight:bold;}
#surahSearch{width:100%;padding:8px 10px;margin-bottom:10px;border-radius:6px;border:none;outline:none;}
.overlay{position:fixed;inset:0;background:rgba(0,0,0,.3);display:none;z-index:900;}
.content{flex:1;display:flex;flex-direction:column;overflow:hidden;position:relative;}
.header{
  display:flex;align-items:center;justify-content:space-between;
  padding:10px;background:var(--panel);border-bottom:1px solid var(--border);
  border-radius:0 0 12px 12px;position:relative;gap:8px;flex-wrap:wrap;
}
.menu-btn{
  background:var(--accent);border:none;border-radius:8px;padding:6px 10px;
  cursor:pointer;font-size:16px;font-weight:bold;color:#000;transition:transform 0.2s, box-shadow 0.2s;
}
.menu-btn:hover{transform:scale(1.1);box-shadow:0 0 10px var(--accent);}
.header-title{flex:1;text-align:center;font-size:22px;color:var(--accent);}
#scrollInfo{
  position:sticky;top:0;background:var(--panel);color:var(--accent);
  padding:6px 10px;font-weight:bold;font-size:16px;border-bottom:1px solid var(--border);
  text-align:center;z-index:100;display:none;
}
.home{flex:1;overflow:hidden;padding:10px;display:flex;flex-direction:column;align-items:center;position:relative;}
.tasbeeh{
  display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:20px;
  width:100%;max-width:1000px;margin-top:90px;
}
.circle-box{
  position:relative;width:100%;aspect-ratio:1;border-radius:50%;
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  cursor:pointer;user-select:none;transition:.2s;box-shadow:0 0 20px rgba(0,0,0,.3);
}
.circle-box:active{transform:scale(.96);box-shadow:0 0 30px var(--accent);}
.circle-number{font-size:48px;color:var(--accent);font-weight:bold;line-height:1.1;}
.circle-text{font-size:16px;text-align:center;padding:0 6px;word-wrap:break-word;}
.circle-svg{position:absolute;inset:0;}
.circle-svg circle{fill:none;stroke-width:8;}
.circle-bg{stroke:var(--panel);}
.circle-progress{stroke:var(--accent);stroke-dasharray:471;stroke-dashoffset:471;transition:.3s;}
.reader{flex:1;overflow:auto;padding:10px;text-align:center;display:none;position:relative;}
#basmala{font-size:36px;font-weight:bold;margin-bottom:10px;}
.ayah{display:inline-block;margin:6px 4px;line-height:2.2;text-align:center;position:relative;}
.ayah span{font-size:calc(18px + 0.5vw);word-wrap:break-word;}
.ayah-number{display:inline-flex;width:32px;height:32px;align-items:center;justify-content:center;
border-radius:50%;background:var(--panel);color:var(--accent);font-size:16px;font-weight:bold;
cursor:pointer;margin-left:4px;transition:.2s;position:relative;top:-3px;}
.ayah-number.active{background:var(--accent);color:#000;}
.ayah-number.bookmark::after{content:"üìå";position:absolute;top:-10px;right:-10px;font-size:16px;}
.highlight{background:rgba(255,204,0,0.6);border-radius:50%;transition:background 0.3s;}
.footer{padding:10px;text-align:center;border-top:1px solid var(--border);color:var(--accent);position:relative;z-index:10;}
#prayerBox{position:fixed;bottom:230px;left:20px;background:var(--accent);color:#000;padding:10px 15px;border-radius:12px;font-weight:bold;box-shadow:0 4px 12px rgba(0,0,0,0.4);text-align:center;z-index:1001;user-select:none;}
#maBox{position:fixed;bottom:70px;left:20px;background:var(--panel);border:1px solid var(--border);border-radius:12px;padding:12px 20px;max-width:250px;text-align:center;color:var(--accent);box-shadow:0 4px 15px rgba(0,0,0,0.4);font-size:16px;z-index:1000;display:flex;flex-direction:column;align-items:center;}
#bookmarkCircle{
  width:70px; height:70px; border-radius:50%;
  background:linear-gradient(135deg,#ffcc00,#ffaa00);
  color:#000; display:flex; flex-direction:column; align-items:center; justify-content:center;
  font-weight:bold; font-size:12px; text-align:center;
  box-shadow:0 4px 12px rgba(0,0,0,0.5);
  border:2px solid #000;
  cursor:pointer;
  flex-shrink:0;
  transition: transform 0.2s, box-shadow 0.2s;
}
#bookmarkCircle span:first-child{font-size:16px;}
#bookmarkCircle:hover{transform:scale(1.15); box-shadow:0 0 15px #ffcc00,0 0 25px #ffaa00;}
@media(max-width:600px){
  .circle-number{font-size:40px;}
  .circle-text{font-size:14px;}
  .tasbeeh{grid-template-columns:repeat(2,1fr);}
}
</style>
</head>
<body>
<div class="app">
  <div class="sidebar" id="sidebar">
    <h3>üìñ ÿßŸÑÿ≥Ÿàÿ±</h3>
    <input type="text" id="surahSearch" placeholder="ÿßÿ®ÿ≠ÿ´ ÿπŸÜ ÿßŸÑÿ≥Ÿàÿ±ÿ©...">
    <div id="surahList"></div>
  </div>
  <div class="overlay" id="overlay" onclick="toggleMenu()"></div>

  <div class="content">
    <div class="header">
      <button class="menu-btn" onclick="toggleMenu()">‚ò∞</button>
      <button class="menu-btn" onclick="toggleTheme()">üåô</button>
      <div class="header-title" id="title">ÿßŸÑŸÇÿ±ÿ¢ŸÜ ÿßŸÑŸÉÿ±ŸäŸÖ</div>
      <button class="menu-btn" onclick="showHome()">üè†</button>
      <button class="menu-btn" onclick="changeFontSize(2)">A+</button>
      <button class="menu-btn" onclick="changeFontSize(-2)">A-</button>
      <div id="bookmarkCircle">
        <span>üìå</span>
        <span id="bmSurah">-</span>
        <span id="bmAyah">-</span>
      </div>
    </div>

    <div id="scrollInfo">ÿßŸÑÿ¨ÿ≤ÿ°: <span id="juz-bar">-</span> | ÿßŸÑÿ≠ÿ≤ÿ®: <span id="hizb-bar">-</span></div>

    <div class="home" id="home">
      <div class="tasbeeh" id="tasbeeh-container"></div>
    </div>

    <div class="reader" id="reader"></div>
    <div id="prayerBox"><p>ÿµŸÑŸâ ÿπŸÑŸâ ÿßŸÑŸÜÿ®Ÿä Ô∑∫</p></div>
    <div id="maBox"><h4>ŸÖÿ¨ŸÖŸàÿπ ÿßŸÑÿ™ÿ≥ÿ®Ÿäÿ≠ÿßÿ™</h4><div id="totalCount">0</div></div>
    <div class="footer">¬© ÿ≤ŸäÿßÿØ ÿ£ŸäŸÖŸÜ ÿßŸÑŸÖÿ∫ÿ±ÿ®Ÿä</div>
  </div>
</div>

<audio id="tapSound" preload="auto"><source src="https://cdn.pixabay.com/audio/2022/03/15/audio_9b5b4a1a8a.mp3"></audio>
<script>
// -------------------------
// Storage & Variables
const storage={get:(k,d)=>JSON.parse(localStorage.getItem(k)||JSON.stringify(d)),set:(k,v)=>localStorage.setItem(k,JSON.stringify(v))};
let ayahFontSize=22, lastTap=0, currentAudio=null;
let bookmarkId=null, bookmarkSurah="";
let clickTimer=null;

// -------------------------
// All Surahs
const allSurahs=[ "ÿßŸÑŸÅÿßÿ™ÿ≠ÿ©","ÿßŸÑÿ®ŸÇÿ±ÿ©","ÿ¢ŸÑ ÿπŸÖÿ±ÿßŸÜ","ÿßŸÑŸÜÿ≥ÿßÿ°","ÿßŸÑŸÖÿßÿ¶ÿØÿ©","ÿßŸÑÿ£ŸÜÿπÿßŸÖ","ÿßŸÑÿ£ÿπÿ±ÿßŸÅ","ÿßŸÑÿ£ŸÜŸÅÿßŸÑ","ÿßŸÑÿ™Ÿàÿ®ÿ©",
"ŸäŸàŸÜÿ≥","ŸáŸàÿØ","ŸäŸàÿ≥ŸÅ","ÿßŸÑÿ±ÿπÿØ","ÿ•ÿ®ÿ±ÿßŸáŸäŸÖ","ÿßŸÑÿ≠ÿ¨ÿ±","ÿßŸÑŸÜÿ≠ŸÑ","ÿßŸÑÿ•ÿ≥ÿ±ÿßÿ°","ÿßŸÑŸÉŸáŸÅ","ŸÖÿ±ŸäŸÖ","ÿ∑Ÿá",
"ÿßŸÑÿ£ŸÜÿ®Ÿäÿßÿ°","ÿßŸÑÿ≠ÿ¨","ÿßŸÑŸÖÿ§ŸÖŸÜŸàŸÜ","ÿßŸÑŸÜŸàÿ±","ÿßŸÑŸÅÿ±ŸÇÿßŸÜ","ÿßŸÑÿ¥ÿπÿ±ÿßÿ°","ÿßŸÑŸÜŸÖŸÑ","ÿßŸÑŸÇÿµÿµ","ÿßŸÑÿπŸÜŸÉÿ®Ÿàÿ™","ÿßŸÑÿ±ŸàŸÖ",
"ŸÑŸÇŸÖÿßŸÜ","ÿßŸÑÿ≥ÿ¨ÿØÿ©","ÿßŸÑÿ£ÿ≠ÿ≤ÿßÿ®","ÿ≥ÿ®ÿ£","ŸÅÿßÿ∑ÿ±","Ÿäÿ≥","ÿßŸÑÿµÿßŸÅÿßÿ™","ÿµ","ÿßŸÑÿ≤ŸÖÿ±","ÿ∫ÿßŸÅÿ±","ŸÅÿµŸÑÿ™","ÿßŸÑÿ¥Ÿàÿ±Ÿâ",
"ÿßŸÑÿ≤ÿÆÿ±ŸÅ","ÿßŸÑÿØÿÆÿßŸÜ","ÿßŸÑÿ¨ÿßÿ´Ÿäÿ©","ÿßŸÑÿ£ÿ≠ŸÇÿßŸÅ","ŸÖÿ≠ŸÖÿØ","ÿßŸÑŸÅÿ™ÿ≠","ÿßŸÑÿ≠ÿ¨ÿ±ÿßÿ™","ŸÇ","ÿßŸÑÿ∞ÿßÿ±Ÿäÿßÿ™","ÿßŸÑÿ∑Ÿàÿ±","ÿßŸÑŸÜÿ¨ŸÖ",
"ÿßŸÑŸÇŸÖÿ±","ÿßŸÑÿ±ÿ≠ŸÖŸÜ","ÿßŸÑŸàÿßŸÇÿπÿ©","ÿßŸÑÿ≠ÿØŸäÿØ","ÿßŸÑŸÖÿ¨ÿßÿØŸÑÿ©","ÿßŸÑÿ≠ÿ¥ÿ±","ÿßŸÑŸÖŸÖÿ™ÿ≠ŸÜÿ©","ÿßŸÑÿµŸÅ","ÿßŸÑÿ¨ŸÖÿπÿ©","ÿßŸÑŸÖŸÜÿßŸÅŸÇŸàŸÜ",
"ÿßŸÑÿ™ÿ∫ÿßÿ®ŸÜ","ÿßŸÑÿ∑ŸÑÿßŸÇ","ÿßŸÑÿ™ÿ≠ÿ±ŸäŸÖ","ÿßŸÑŸÖŸÑŸÉ","ÿßŸÑŸÇŸÑŸÖ","ÿßŸÑÿ≠ÿßŸÇÿ©","ÿßŸÑŸÖÿπÿßÿ±ÿ¨","ŸÜŸàÿ≠","ÿßŸÑÿ¨ŸÜ","ÿßŸÑŸÖÿ≤ŸÖŸÑ","ÿßŸÑŸÖÿØÿ´ÿ±",
"ÿßŸÑŸÇŸäÿßŸÖÿ©","ÿßŸÑÿ•ŸÜÿ≥ÿßŸÜ","ÿßŸÑŸÖÿ±ÿ≥ŸÑÿßÿ™","ÿßŸÑŸÜÿ®ÿ£","ÿßŸÑŸÜÿßÿ≤ÿπÿßÿ™","ÿπÿ®ÿ≥","ÿßŸÑÿ™ŸÉŸàŸäÿ±","ÿßŸÑÿ•ŸÜŸÅÿ∑ÿßÿ±","ÿßŸÑŸÖÿ∑ŸÅŸÅŸäŸÜ","ÿßŸÑÿ•ŸÜÿ¥ŸÇÿßŸÇ",
"ÿßŸÑÿ®ÿ±Ÿàÿ¨","ÿßŸÑÿ∑ÿßÿ±ŸÇ","ÿßŸÑÿ£ÿπŸÑŸâ","ÿßŸÑÿ∫ÿßÿ¥Ÿäÿ©","ÿßŸÑŸÅÿ¨ÿ±","ÿßŸÑÿ®ŸÑÿØ","ÿßŸÑÿ¥ŸÖÿ≥","ÿßŸÑŸÑŸäŸÑ","ÿßŸÑÿ∂ÿ≠Ÿâ","ÿßŸÑÿ¥ÿ±ÿ≠","ÿßŸÑÿ™ŸäŸÜ",
"ÿßŸÑÿπŸÑŸÇ","ÿßŸÑŸÇÿØÿ±","ÿßŸÑÿ®ŸäŸÜÿ©","ÿßŸÑÿ≤ŸÑÿ≤ŸÑÿ©","ÿßŸÑÿπÿßÿØŸäÿßÿ™","ÿßŸÑŸÇÿßÿ±ÿπÿ©","ÿßŸÑÿ™ŸÉÿßÿ´ÿ±","ÿßŸÑÿπÿµÿ±","ÿßŸÑŸáŸÖÿ≤ÿ©","ÿßŸÑŸÅŸäŸÑ",
"ŸÇÿ±Ÿäÿ¥","ÿßŸÑŸÖÿßÿπŸàŸÜ","ÿßŸÑŸÉŸàÿ´ÿ±","ÿßŸÑŸÉÿßŸÅÿ±ŸàŸÜ","ÿßŸÑŸÜÿµÿ±","ÿßŸÑŸÖÿ≥ÿØ","ÿßŸÑÿ•ÿÆŸÑÿßÿµ","ÿßŸÑŸÅŸÑŸÇ","ÿßŸÑŸÜÿßÿ≥"];
 
// -------------------------
// Sidebar Surah Rendering
const surahList=document.getElementById("surahList");
const surahSearch=document.getElementById("surahSearch");

function renderSurahList(filter=""){
  surahList.innerHTML="";
  allSurahs.forEach((name,id)=>{
    if(filter && !name.includes(filter)) return;
    const div=document.createElement("div");
    div.className="surah-item";
    div.textContent=(id+1)+" - "+name;
    div.onclick=()=>{ 
      loadSurah(id+1,name); 
      toggleMenu(); 
    };
    surahList.appendChild(div);
  });
}

renderSurahList();
surahSearch.addEventListener("input",e=>renderSurahList(e.target.value));

// -------------------------
// Tasbeeh
const tasbeehs=[
  {id:'c1',text:'ÿ≥ÿ®ÿ≠ÿßŸÜ ÿßŸÑŸÑŸá'},
  {id:'c2',text:'ÿßŸÑÿ≠ŸÖÿØ ŸÑŸÑŸá'},
  {id:'c3',text:'ÿßŸÑŸÑŸá ÿ£ŸÉÿ®ÿ±'},
  {id:'c4',text:'ŸÑÿß ÿ•ŸÑŸá ÿ•ŸÑÿß ÿßŸÑŸÑŸá'},
  {id:'c5',text:'ÿ£ÿ¥ŸáÿØ ÿ£ŸÜ ŸÑÿß ÿ•ŸÑŸá ÿ•ŸÑÿß ÿßŸÑŸÑŸá'},
  {id:'c6',text:'ŸÑÿß ÿ≠ŸàŸÑ ŸàŸÑÿß ŸÇŸàÿ© ÿ•ŸÑÿß ÿ®ÿßŸÑŸÑŸá'}
];
const tasbeehContainer=document.getElementById("tasbeeh-container");
const totalCount=document.getElementById("totalCount");

function updateTotal(){
  const total=tasbeehs.reduce((sum,t)=>sum+(storage.get("tasbeeh",{})[t.id]||0),0);
  totalCount.textContent=total;
}

function initTasbeeh(){
  tasbeehContainer.innerHTML="";
  tasbeehs.forEach(t=>{
    const div=document.createElement("div");
    div.className="circle-box"; div.id=t.id+"-circle";
    div.innerHTML=`<svg class="circle-svg" viewBox="0 0 160 160">
      <circle class="circle-bg" cx="80" cy="80" r="75"/>
      <circle class="circle-progress" id="${t.id}-progress" cx="80" cy="80" r="75"/>
      </svg>
      <div class="circle-number" id="${t.id}">0</div>
      <div class="circle-text">${t.text}</div>`;
    tasbeehContainer.appendChild(div);

    let timer;
    const start=()=>timer=setTimeout(()=>resetCounter(t.id),800);
    const end=()=>clearTimeout(timer);
    div.addEventListener("touchstart",start);
    div.addEventListener("mousedown",start);
    div.addEventListener("touchend",end);
    div.addEventListener("mouseup",end);
    div.addEventListener("mouseleave",end);

    const v=storage.get("tasbeeh",{})[t.id]||0;
    document.getElementById(t.id).textContent=v;
    document.getElementById(t.id+"-progress").style.strokeDashoffset=471-(v%33)/33*471;

    div.onclick=()=>increment(t.id);
  });
  updateTotal();
}

function increment(id){
  const now=Date.now();
  if(now-lastTap<180)return;
  lastTap=now;
  const el=document.getElementById(id); let v=+el.textContent+1;
  el.textContent=v;
  document.getElementById("tapSound").play().catch(()=>{});
  storage.set("tasbeeh",{...storage.get("tasbeeh",{}),[id]:v});
  document.getElementById(id+"-progress").style.strokeDashoffset=471-(v%33)/33*471;
  updateTotal();
}

function resetCounter(id){
  document.getElementById(id).textContent=0;
  storage.set("tasbeeh",{...storage.get("tasbeeh",{}),[id]:0});
  document.getElementById(id+"-progress").style.strokeDashoffset=471;
  updateTotal();
}

// -------------------------
// Bookmark
const bmCircle=document.getElementById("bookmarkCircle");
const bmSurah=document.getElementById("bmSurah");
const bmAyah=document.getElementById("bmAyah");

function saveBookmark(surah,verse){
  storage.set("bookmark",{surah:surah,verse:verse});
  bookmarkSurah=surah;
  bookmarkId=verse;
  bmSurah.textContent=surah;
  bmAyah.textContent=verse;
  document.querySelectorAll(".ayah-number.bookmark").forEach(n=>n.classList.remove("bookmark"));
  const target=document.querySelector(`.ayah-number[data-verse='${verse}']`);
  if(target) target.classList.add("bookmark");
}

function loadBookmark(){
  const bm=storage.get("bookmark",null);
  if(bm){
    bookmarkSurah=bm.surah;
    bookmarkId=bm.verse;
    bmSurah.textContent=bm.surah;
    bmAyah.textContent=bm.verse;
    const target=document.querySelector(`.ayah-number[data-verse='${bookmarkId}']`);
    if(target) target.classList.add("bookmark");
  }
}

bmCircle.onclick=()=>{
  if(!bookmarkId) return;
  const target=document.querySelector(".ayah-number.bookmark");
  if(target){
    target.scrollIntoView({behavior:'smooth', block:'center'});
    target.classList.add("highlight");
    setTimeout(()=>target.classList.remove("highlight"),1500);
  }
};

// -------------------------
// Reader
const reader=document.getElementById("reader");
const home=document.getElementById("home");
const title=document.getElementById("title");
const scrollInfo=document.getElementById("scrollInfo");
const juzBar=document.getElementById("juz-bar");
const hizbBar=document.getElementById("hizb-bar");

// -------------------------
// Load Surah
function loadSurah(id,name){
  home.style.display="none"; reader.style.display="block";
  title.textContent=name; reader.innerHTML="ÿ¨ÿßÿ±Ÿä ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ...";
  tasbeehContainer.style.display="none";
  document.getElementById("maBox").style.display="none";
  document.getElementById("prayerBox").style.display="none";
  scrollInfo.style.display="block";

  fetch(`https://api.quran.com/api/v4/verses/by_chapter/${id}?fields=text_uthmani,juz_number,hizb_number,verse_number&per_page=400`)
  .then(r=>r.json()).then(d=>{
    reader.innerHTML="";
    if(name!=="ÿßŸÑÿ™Ÿàÿ®ÿ©"){
      const basmalaDiv=document.createElement("div");
      basmalaDiv.id="basmala";
      basmalaDiv.textContent="ÿ®ÿ≥ŸÖ ÿßŸÑŸÑŸá ÿßŸÑÿ±ÿ≠ŸÖŸÜ ÿßŸÑÿ±ÿ≠ŸäŸÖ";
      reader.appendChild(basmalaDiv);
    }

    d.verses.forEach(v=>{
      const a=document.createElement("div"); 
      a.className="ayah"; a.dataset.juz=v.juz_number; a.dataset.hizb=v.hizb_number;
      const txt=document.createElement("span"); txt.textContent=v.text_uthmani; txt.style.fontSize=ayahFontSize+"px";
      const num=document.createElement("span"); num.className="ayah-number"; num.textContent=v.verse_number;
      num.dataset.verse=v.verse_number;

      let clickTimer=null;
      num.onclick=()=>{
        if(currentAudio){currentAudio.pause();}
        currentAudio=new Audio(`https://cdn.islamic.network/quran/audio/128/ar.alafasy/${v.id}.mp3`);
        currentAudio.play().catch(()=>{});

        document.querySelectorAll(".ayah-number").forEach(n=>n.classList.remove("active"));
        num.classList.add("active");

        if(clickTimer && clickTimer.dataset.verse==v.verse_number){
          saveBookmark(name,v.verse_number);
          clearTimeout(clickTimer.timer); clickTimer=null;
        } else {
          clickTimer={dataset:{verse:v.verse_number}};
          clickTimer.timer=setTimeout(()=>{clickTimer=null;},400);
        }
      };

      a.append(txt,num); reader.appendChild(a);
    });

    // Intersection Observer for juz/hizb
    const obs=new IntersectionObserver(entries=>{
      entries.forEach(e=>{
        if(e.isIntersecting){ 
          juzBar.textContent=e.target.dataset.juz; 
          hizbBar.textContent=e.target.dataset.hizb; 
        }
      });
    },{root:reader,rootMargin:'-50% 0px -50% 0px',threshold:0});
    [...reader.children].forEach(a=>obs.observe(a));
  });
}

// -------------------------
// Show Home
function showHome(){
  if(currentAudio){currentAudio.pause();currentAudio=null;}
  reader.style.display="none"; home.style.display="flex";
  title.textContent="ÿßŸÑŸÇÿ±ÿ¢ŸÜ ÿßŸÑŸÉÿ±ŸäŸÖ"; scrollInfo.style.display="none";
  tasbeehContainer.style.display="grid"; document.getElementById("maBox").style.display="flex"; document.getElementById("prayerBox").style.display="block";
  juzBar.textContent='-'; hizbBar.textContent='-';
}

// -------------------------
// Font Size
function changeFontSize(delta){
  ayahFontSize+=delta;
  if(ayahFontSize<12)ayahFontSize=12;
  if(ayahFontSize>40)ayahFontSize=40;
  document.querySelectorAll('.ayah span').forEach(s=>s.style.fontSize=ayahFontSize+"px");
}

// -------------------------
// Theme & Menu
const sidebar=document.getElementById("sidebar");
const overlay=document.getElementById("overlay");
function toggleMenu(){sidebar.classList.toggle("open");overlay.style.display=sidebar.classList.contains("open")?"block":"none";}
function toggleTheme(){document.body.classList.toggle("light");storage.set("theme",document.body.classList.contains("light"));}
if(storage.get("theme",false))document.body.classList.add("light");

// -------------------------
// On Load
window.addEventListener("load",()=>{
  initTasbeeh();
  loadBookmark();
  showHome();
});
</script>
</body>
</html>
